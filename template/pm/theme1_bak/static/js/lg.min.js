var LoginAuto={sessionUser:null,enable:!0,storeInfoKey:"storeInfo_",init:function(){this.enable=store&&store.enabled,!this.enable&&console&&console.log("Local storage is not supported by your browser."),this.storeInfoKey="storeInfo_"+(this.sessionUser&&this.sessionUser.groupType),this.autoLogin()},get:function(){return this.enable?store.get(this.storeInfoKey):null},set:function(o){return this.enable?(store.set(this.storeInfoKey,o),!0):!1},setAutoLogin:function(o){var e=this.get();return e?(e.autoLogin=o,this.set(e)):!1},autoLogin:function(){var o=this.get();if(!o)return!1;if(this.sessionUser&&!this.sessionUser.isLogin&&o.loginId&&o.autoLogin&&!o.doLogin){var e=({userId:o.loginId,clientStoreId:o.clientStoreId},{}),t=new XMLHttpRequest;if(t.open("post","/studio/login",!1),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(4==t.readyState)if(t.status>=200&&t.status<300||304==t.status)try{e=JSON.parse(t.responseText)}catch(o){e={}}else console.log("检查自动登录无效，请联系客服！");else console.log("检查自动登录无效，请联系客服！")},t.send("userId="+o.loginId+"&clientStoreId="+o.clientStoreId),e.isOK)return this.stopLoad(),o.doLogin=!0,LoginAuto.set(o),window.location.reload(),!0}return o.doLogin&&(o.doLogin=!1,LoginAuto.set(o)),!1},stopLoad:function(){try{window.attachEvent&&!window.opera?document.execCommand("stop"):window.stop()}catch(o){}}};