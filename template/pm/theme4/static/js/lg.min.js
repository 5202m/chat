var LoginAuto={sessionUser:null,enable:!0,storeInfoKey:"storeInfo_",init:function(){this.enable=store&&store.enabled,!this.enable&&console&&console.log("Local storage is not supported by your browser."),this.storeInfoKey="storeInfo_"+(this.sessionUser&&this.sessionUser.groupType),this.autoLogin()},get:function(){return this.enable?store.get(this.storeInfoKey):null},set:function(o){return this.enable?(store.set(this.storeInfoKey,o),!0):!1},setAutoLogin:function(o){var t=this.get();return t?(t.autoLogin=o,this.set(t)):!1},autoLogin:function(){var o=this.get();if(!o)return!1;if(this.sessionUser&&!this.sessionUser.isLogin&&o.loginId&&o.autoLogin&&!o.doLogin){var t={userId:o.loginId,clientStoreId:o.clientStoreId},e=null;if($.ajax({url:"/studio/login",type:"POST",timeout:3e4,cache:!1,async:!1,dataType:"json",data:t,success:function(o){e=o},error:function(o){common.isValid(o.responseText)&&"OK"!=o.statusText?alert(o.responseText):alert("请求超时,请重试!")}}),e.isOK)return this.stopLoad(),o.doLogin=!0,LoginAuto.set(o),window.location.reload(),!0}return o.doLogin&&(o.doLogin=!1,LoginAuto.set(o)),!1},stopLoad:function(){try{window.attachEvent&&!window.opera?document.execCommand("stop"):window.stop()}catch(o){}}};