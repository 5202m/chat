function openLive800Chat(t){var e="https://www.onlineservice-hk.com/k800/chatClient/chatbox.jsp?companyID=209&s=1";t?location.href=e:window.open(e,"Live800Chatindow","height=520,width=740,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}function openQQChatByCommonv3(){var t="http://crm2.qq.com/page/portalpage/wpa.php?uin=800018282&cref=&ref=&f=1&ty=1&ap=&as=";window.open(t,"QQChatindow","height=544, width=644,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no")}var common={remove:function(t,e){return isNaN(e)||e>t.length?!1:void t.splice(e,1)},joinSplit:function(t){return",".concat(t).concat(",")},isBlank:function(t){return void 0==t||null==t||"undefined"==t||"null"==t||""==$.trim(t)},isValid:function(t){return!this.isBlank(t)},trim:function(t){return this.isBlank(t)?"":t.toString().replace(/(^\s*)|(\s*$)/g,"")},escapeHtml:function(t){return document.createElement("div").appendChild(document.createTextNode(t)).parentNode.innerHTML.replace(/"/g,'\\"')},encodeHtml:function(t){return this.isBlank(t)?"":t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},formatterDate:function(t,e){e||(e="-"),t instanceof Date||(t=new Date(t));var n=t.getFullYear()+e+(t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1))+e+(t.getDate()<10?"0"+t.getDate():t.getDate());return n},getHHMMSS:function(t){t instanceof Date||(t=new Date(t));var e=(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds());return e},getHHMM:function(t){t instanceof Date||(t=new Date(t));var e=(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes());return e},formatterDateTime:function(t,e){e||(e="-"),t instanceof Date||(t=new Date(t));var n=t.getFullYear()+e+(t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1))+e+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds());return n},longMsTimeToDateTime:function(t,e){var n=new Date(t);return this.formatterDateTime(n,e)},showBox:function(t,e){$(t).slideDown(),$(e||".layer-shadow").show()},hideBox:function(t,e){$(t).slideUp(),$(e||".layer-shadow").hide()},getJson:function(t,e,n,s,a){var r=null;return $.ajax({url:t,type:"POST",timeout:1e5,cache:!1,async:void 0!=s?s:!1,dataType:"json",data:e,complete:function(t,e){"function"==typeof a?a(e):"timeout"==e&&alert("请求超时,请重试!")},success:"function"==typeof n?n:function(t){r=t},error:function(t){"function"==typeof a?a(t):common.isValid(t.responseText)?"OK"!=t.statusText&&alert(t.responseText):alert("请求超时,请重试!")}}),r},arraySort:function(t,e){return function(n,s){return e?n[t]<s[t]:n[t]>s[t]}},randomNumber:function(t){for(var e="",n=0;t>n;n++)e+=Math.floor(10*Math.random());return e},isMobilePhone:function(t){return/(^[0-9]{11})$|(^86(-){0,3}[0-9]{11})$/.test(t)},dateTimeWeekCheck:function(t,e,n){if(this.isBlank(t))return!!e;$.isPlainObject(t)||(t=JSON.parse(t));var s=n?new Date(n):new Date,a=!1,r=this.formatterDate(s);if(a=this.isBlank(t.beginDate)||r>=t.beginDate,a&&(a=this.isBlank(t.endDate)||r<=t.endDate),!a)return!1;var o=t.weekTime;if(this.isBlank(o))return a;var i=null,u=null,l=!1;for(var c in o)if(i=o[c],(!this.isValid(i.week)||s.getDay()==parseInt(i.week))&&(u=this.getHHMMSS(s),l=this.isBlank(i.beginTime)||u>=i.beginTime,l&&(l=this.isBlank(i.endTime)||u<=i.endTime),l))break;return l},arrayUnique:function(t){if(!t)return t;for(var e,n=[],s={},a=0;null!=(e=t[a]);a++)s[e]||(n.push(e),s[e]=!0);return n},isWebSocket:function(){return window.WebSocket},getSocket:function(t,e,n){return common.isWebSocket()?(console.log("used websocket!"),t.connect(e.webSocket+"/"+n,{transports:["websocket"]})):t.connect(e.socketIO+"/"+n)},refreshSession:function(){setInterval(function(){$.get("/refreshSession?t="+new Date,function(){})},9e5)},randomNumber:function(t){for(var e="",n=0;t>n;n++)e+=Math.floor(10*Math.random());return e},formatSyllabus:function(t,e,n){var s={dayCN:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],indexCN:["第一节","第二节","第三节","第四节","第五节","第六节","第七节","第八节"],courseCls:["prev","ing","next"],tableCls:"syllabus"},a=function(t,e,n,a,r){var o=0,i=(t+6)%7,u=(a.day+6)%7;return o=i>u?2:u>i?0:r?1:n<=a.time?0:e>a.time?2:1,s.courseCls[o]},r=[];try{if(t){var o=JSON.parse(t),i=o.days?o.days.length:0;if(i>0)if(1===n){r.push('<div class="sy_panel">');var u=e.timeLong-864e5*((e.day+6)%7),l=null,c=null,d=null;r.push('<div class="sy_nav">');for(var h=' style="width:'+100/i+'%;"',p=0;i>p;p++)l=new Date(u+(o.days[p].day+6)%7*864e5),c=l.getFullYear()+"-"+(l.getMonth()<9?"0":"")+(l.getMonth()+1)+"-"+(l.getDate()<10?"0":"")+l.getDate(),d=o.days[p].day==e.day?' class="active"':"",r.push('<a href="javascript:void(0)" d="'+o.days[p].day+'"'+d+h+">"+s.dayCN[o.days[p].day]+"<br/><span>"+c+"</span></a>");r.push("</div>"),r.push('<div class="sy_cont"><div>'),r.push('<table cellpadding="0" cellspacing="0" border="0" class="'+s.tableCls+'">');for(var f=null,g=null,p=0;i>p;p++){if(r.push('<tbody d="'+o.days[p].day+'">'),0==o.days[p].status)g=a(o.days[p].day,null,null,e,!0),r.push('<tr class="'+g+'" width="100%"><td>休市</td></tr>');else for(var m=0,y=o.timeBuckets.length;y>m;m++)f=o.timeBuckets[m],g=a(o.days[p].day,f.startTime,f.endTime,e,!1),0==f.course[p].status?(r.push('<tr class="'+g+'">'),r.push('<td width="25%">'+f.startTime+"-"+f.endTime+"</td>"),r.push('<td colspan="2" width="75%">休市</td>'),r.push("</tr>")):f.course[p].lecturer&&(r.push('<tr class="'+g+'">'),r.push('<td width="25%">'+f.startTime+"-"+f.endTime+"</td>"),r.push('<td width="25%">'+f.course[p].lecturer+"</td>"),r.push('<td width="50%">'+f.course[p].title+"</td>"),r.push("</tr>"));r.push("</tbody>")}r.push("</table>"),r.push("</div></div>"),r.push("</div>")}else if(2===n){r.push('<table cellpadding="0" cellspacing="1" border="0" class="'+s.tableCls+'">'),r.push("<tr>"),r.push("<th>星期\\节次</th>");for(var y=o.timeBuckets?o.timeBuckets.length:0,f=null,g=null,m=0;y>m;m++)f=o.timeBuckets[m],r.push("<th>"+s.indexCN[m]+"<br><span>("+f.startTime+"-"+f.endTime+")</span></th>");r.push("</tr>");for(var v=null,p=0,w=o.days?o.days.length:0;w>p;p++){if(v=o.days[p],r.push("<tr>"),r.push("<th>"+s.dayCN[v.day]+"</th>"),0==v.status)g=a(v.day,null,null,e,!0),r.push('<td class="'+g+'" colspan="'+y+'">休市</td>');else for(var m=0;y>m;m++)f=o.timeBuckets[m],g=a(v.day,f.startTime,f.endTime,e,!1),r.push('<td class="'+g+'">'+(0==f.course[p].status?"休市":f.course[p].lecturer)+"</td>");r.push("</tr>")}r.push("</table>")}}}catch(b){return console.error("formatSyllabus->"+b),""}return r.join("")}};window.console||(console=function(){function t(){}function e(){return null==n&&(n=new t),n}var n=null;return t.prototype={log:function(t){},error:function(t){}},e()}());